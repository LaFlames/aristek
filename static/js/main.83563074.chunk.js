(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{30:function(t,e,s){},31:function(t,e,s){},57:function(t,e,s){"use strict";s.r(e);var c=s(0),a=s.n(c),n=s(8),r=s.n(n),i=(s(30),s(31),s.p+"static/media/todo.f5830c5a.svg"),o=s.p+"static/media/icon.cb48dfe7.svg",l=s.p+"static/media/arrow.eaade4b4.svg",d=s(1),u=function(){return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsxs)("div",{className:"header_logoWrapper",children:[Object(d.jsxs)("div",{className:"header_logo",children:[Object(d.jsx)("img",{src:i,alt:"logo"}),Object(d.jsx)("span",{className:"header_logoTitle",children:"To-Do"})]}),Object(d.jsx)("h2",{className:"header_title",children:"Tasks"})]}),Object(d.jsxs)("div",{className:"header_profileInfo",children:[Object(d.jsx)("h2",{className:"header_profileName",children:"Vitalik Kozlovsky"}),Object(d.jsx)("img",{src:o,alt:"profile photo"}),Object(d.jsx)("img",{src:l,alt:"arrow"})]})]})},j=s.p+"static/media/tasks.9e85abfa.svg",m=function(){return Object(d.jsx)("nav",{className:"navbar",children:Object(d.jsx)("div",{className:"navbar_logoWrapper",children:Object(d.jsx)("img",{src:j,alt:"tasksLogo"})})})},b=s(5),p=s.p+"static/media/delete.67650ab1.svg",f=s.p+"static/media/edit.f5861864.svg",O=s(3),h=s(11),k=s(14),T=s(24),x=s.n(T).a.create({baseURL:"https://jsonplaceholder.typicode.com/todos",withCredentials:!0}),v=function(){return x.get("/")},g=function(t){return x.post("/",t)},_=function(t){return x.delete("/".concat(t))},N=function(t,e){return x.put("/".concat(t),e)},E=[],I=function(t,e){return function(s,c){var a=c().tasks.find((function(e){return e.id===t}));if(!a)throw new Error("Task not found");var n=Object(h.a)({title:a.title,completed:a.completed},e);N(t,n).then((function(c){s(function(t,e){return{type:"UPDATE-TASK",taskId:t,taskProperties:e}}(t,e))})).catch((function(t){alert(t)}))}},S=a.a.memo((function(t){var e=t.addItem,s=t.taskTitle,a=t.name,n=t.autoFocus,r=Object(c.useState)(s),i=Object(b.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)(!1),j=Object(b.a)(u,2),m=j[0],p=j[1],f=function(t){l(t.currentTarget.value),p(!1)};return Object(d.jsxs)("div",{className:"addItemForm",children:[Object(d.jsx)("input",{value:o,onChange:f,onKeyPress:function(t){""!==o.trim()&&13===t.charCode?(e(o),l("")):p(!0)},className:m?"addItemForm_input addItemForm_inputError":"addItemForm_input",placeholder:"+ Add a task, press Enter to save",onBlur:f,autoFocus:n}),Object(d.jsx)("button",{onClick:function(){""!==o.trim()?(e(o),l("")):p(!0)},className:"addItemForm_btn",children:a})]})})),y=a.a.memo((function(t){var e=t.title,s=t.completed,a=t.style,n=t.id,r=Object(O.b)(),i=Object(c.useState)(!1),o=Object(b.a)(i,2),l=o[0],u=o[1],j=Object(c.useCallback)((function(){var t;r((t=n,function(e){_(t).then((function(s){200===s.status&&e(function(t){return{type:"DELETE_TASK",taskId:t}}(t))}))}))}),[r]),m=Object(c.useCallback)((function(t){var e=t.currentTarget.checked;r(I(n,{completed:e}))}),[r]),h=Object(c.useCallback)((function(t){r(I(n,{title:t})),u(!1)}),[r]);return l?Object(d.jsx)(S,{taskTitle:e,addItem:h,name:"Save",autoFocus:!0}):Object(d.jsxs)("div",{className:a,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{checked:s,onChange:m,type:"checkbox"}),Object(d.jsx)("span",{className:s?"task_completedTaskTitle":"task_currentTaskTitle",children:e})]}),Object(d.jsxs)("div",{className:s?"":"task_buttons",children:[!s&&Object(d.jsx)("img",{onClick:function(){return u(!0)},src:f,alt:"edit task",style:{cursor:"pointer"}}),Object(d.jsx)("img",{onClick:j,src:p,alt:"delete task",style:{cursor:"pointer"}})]})]})})),A=a.a.memo((function(t){var e=t.currentTasks,s=t.allTasks,a=Object(O.b)(),n=Object(c.useCallback)((function(t){a(function(t){return function(e){g({userId:1,title:t,completed:!1}).then((function(t){e({type:"CREATE_TASK",task:t.data})}))}}(t))}),[a]);return Object(d.jsxs)("section",{className:"todolist",children:[Object(d.jsx)(S,{addItem:n,taskTitle:"",name:"Add"}),Object(d.jsxs)("div",{className:"todolist_totalTasks",children:["Total: ",s.length]}),Object(d.jsxs)("div",{className:"todolist_tasks",children:[Object(d.jsxs)("h2",{className:"todolist_title",children:["Todolist (",e.length,")"]}),e.map((function(t){return Object(d.jsx)(y,{title:t.title,completed:t.completed,style:t.completed?"completedTask":"task",id:t.id},t.id)}))]})]})})),C=a.a.memo((function(t){var e=t.completedTasks;return Object(d.jsxs)("section",{className:"completedTasks",children:[Object(d.jsxs)("h2",{className:"completedTasks_title",children:["Completed (",e.length,")"]}),e.map((function(t){return Object(d.jsx)(y,{title:t.title,completed:t.completed,style:"completedTask",id:t.id},t.id)}))]})}));var w=function(){var t=Object(O.b)(),e=Object(O.c)((function(t){return t.tasks})).filter((function(t){return 1===t.userId})),s=e.filter((function(t){return!t.completed})),a=e.filter((function(t){return t.completed}));return Object(c.useEffect)((function(){t((function(t){v().then((function(e){200===e.status&&t({type:"SET_TASKS",tasks:e.data})}))}))}),[t]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(u,{}),Object(d.jsx)(m,{}),Object(d.jsx)(A,{currentTasks:s,allTasks:e}),Object(d.jsx)(C,{completedTasks:a})]})},K=s(10),F=s(25),D=Object(K.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TASKS":return Object(k.a)(e.tasks);case"DELETE_TASK":return t.filter((function(t){return t.id!==e.taskId}));case"CREATE_TASK":return[e.task].concat(Object(k.a)(t));case"UPDATE-TASK":return t.map((function(t){return t.id===e.taskId?Object(h.a)(Object(h.a)({},t),e.taskProperties):t}));default:return t}}}),P=Object(K.c)(D,Object(K.a)(F.a));window.store=P,r.a.render(Object(d.jsx)(O.a,{store:P,children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.83563074.chunk.js.map